# Maintainer: Aditya Shakya <adi1090x@gmail.com>

pkgname=packarch-bspwm
pkgver=2.0
pkgrel=1
pkgdesc="Bspwm Configurations for Packarch"
url="https://github.com/packarch-os/packarch-bspwm"
arch=('any')
license=('GPL3')
makedepends=()
depends=('bspwm'
		'sxhkd' 
		'alacritty' 'geany'
		'rofi' 'polybar' 'dunst'
		'mpd' 'mpc'
		'maim' 'xclip' 'viewnior' 'feh'
		'ksuperkey' 
		'betterlockscreen'
		'xfce4-power-manager' 
		'xsettingsd'
		'xorg-xsetroot'
		'wmname'
)
conflicts=()
provides=("${pkgname}")
options=(!strip !emptydirs)

prepare() {
	cp -af ../files/. ${srcdir}
}

package() {
	local _skeldir=${pkgdir}/etc/skel
	local _configdir=${_skeldir}/.config
	local _bspwmdir=${_configdir}/bspwm

	mkdir -p "$_skeldir" && mkdir -p "$_configdir" && mkdir -p "$_bspwmdir"

	# Copy window manager configs
	cp -r ${srcdir}/alacritty 			"$_bspwmdir"
	cp -r ${srcdir}/assets 			"$_bspwmdir"
	cp -r ${srcdir}/bin 				"$_bspwmdir"
	cp -r ${srcdir}/polybar 			"$_bspwmdir"
	cp -r ${srcdir}/rofi 				"$_bspwmdir"
	cp -r ${srcdir}/themes 				"$_bspwmdir"
	chmod +x "$_bspwmdir"/bin/*
	chmod +x "$_bspwmdir"/rofi/bin/*

	install -Dm 755 bspwmrc   			"$_bspwmdir"/bspwmrc
	install -Dm 644 dunstrc   			"$_bspwmdir"/dunstrc
	install -Dm 644 picom.conf   		"$_bspwmdir"/picom.conf
	install -Dm 644 keybindings   		"$_bspwmdir"/keybindings
	install -Dm 644 selectedThemeName 	"$_bspwmdir"/selectedThemeName
	install -Dm 644 sxhkdrc				"$_bspwmdir"/sxhkdrc
	install -Dm 644 xsettingsd			"$_bspwmdir"/xsettingsd
}
